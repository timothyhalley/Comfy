{"last_node_id": 112, "last_link_id": 219, "nodes": [{"id": 54, "type": "SAMLoader", "pos": [3340, 860], "size": {"0": 315, "1": 82}, "flags": {}, "order": 0, "mode": 0, "outputs": [{"name": "SAM_MODEL", "type": "SAM_MODEL", "links": [157], "shape": 3}], "properties": {"Node name for S&R": "SAMLoader"}, "widgets_values": ["sam_vit_b_01ec64.pth", "AUTO"], "color": "#659414", "bgcolor": "#518000"}, {"id": 63, "type": "Anything Everywhere", "pos": [510, 1200], "size": {"0": 210, "1": 26}, "flags": {}, "order": 18, "mode": 0, "inputs": [{"name": "VAE", "type": "*", "link": 107, "color_on": "#FF6E6E"}], "properties": {"Node name for S&R": "Anything Everywhere", "group_restricted": 0, "color_restricted": 0}, "widgets_values": [], "color": "#601470", "bgcolor": "#4c005c"}, {"id": 14, "type": "LoadImage", "pos": [20, 10], "size": {"0": 320, "1": 310}, "flags": {}, "order": 1, "mode": 0, "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [22], "shape": 3}, {"name": "MASK", "type": "MASK", "links": null, "shape": 3}], "properties": {"Node name for S&R": "LoadImage"}, "widgets_values": ["00044-3462417588.png", "image"], "color": "#3d1466", "bgcolor": "#290052"}, {"id": 37, "type": "ConditioningConcat", "pos": [1300, 1050], "size": {"0": 380.4000244140625, "1": 46}, "flags": {}, "order": 26, "mode": 0, "inputs": [{"name": "conditioning_to", "type": "CONDITIONING", "link": 114}, {"name": "conditioning_from", "type": "CONDITIONING", "link": 81}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [140, 141, 155], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ConditioningConcat"}, "color": "#322", "bgcolor": "#533"}, {"id": 35, "type": "ConditioningConcat", "pos": [1300, 730], "size": {"0": 380.4000244140625, "1": 46}, "flags": {}, "order": 25, "mode": 0, "inputs": [{"name": "conditioning_to", "type": "CONDITIONING", "link": 113}, {"name": "conditioning_from", "type": "CONDITIONING", "link": 49}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [139, 154], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ConditioningConcat"}, "color": "#232", "bgcolor": "#353"}, {"id": 47, "type": "VAEDecodeTiled", "pos": [2270, 1150], "size": {"0": 315, "1": 78}, "flags": {}, "order": 29, "mode": 0, "inputs": [{"name": "samples", "type": "LATENT", "link": 136}, {"name": "vae", "type": "VAE", "link": null, "slot_index": 1}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [72, 151], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "VAEDecodeTiled"}, "widgets_values": [512], "color": "#659414", "bgcolor": "#518000"}, {"id": 53, "type": "UltralyticsDetectorProvider", "pos": [3340, 730], "size": {"0": 315, "1": 78}, "flags": {}, "order": 2, "mode": 0, "outputs": [{"name": "BBOX_DETECTOR", "type": "BBOX_DETECTOR", "links": [156], "shape": 3}, {"name": "SEGM_DETECTOR", "type": "SEGM_DETECTOR", "links": null, "shape": 3}], "properties": {"Node name for S&R": "UltralyticsDetectorProvider"}, "widgets_values": ["bbox/face_yolov8n_v2.pt"], "color": "#659414", "bgcolor": "#518000"}, {"id": 55, "type": "SaveImage", "pos": [4220, 730], "size": {"0": 430, "1": 530}, "flags": {}, "order": 32, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 158}], "properties": {"Node name for S&R": "SaveImage"}, "widgets_values": ["Ollama IF/%date:yyyy-MM-dd%/AYSFDComfyUI"], "color": "#659414", "bgcolor": "#518000"}, {"id": 49, "type": "ShowText|pysssss", "pos": [820, 10], "size": {"0": 580, "1": 450}, "flags": {}, "order": 14, "mode": 0, "inputs": [{"name": "text", "type": "STRING", "link": 86, "widget": {"name": "text"}}], "outputs": [{"name": "STRING", "type": "STRING", "links": [87], "shape": 6, "slot_index": 0}], "properties": {"Node name for S&R": "ShowText|pysssss"}, "widgets_values": ["", "digital art, vector graphics, flat stylized design  Epic, Fantasy Portrait, Vivid Colors, Unique Eye Designs, Mythical Creature, Detailed Fur, Glowing Effects, Magical Forest Background, Enchanting Aura, Fantasy Character, High-Quality Illustration.  Mythical, surreal, magical, otherworldly, imaginative,"], "color": "#3d1466", "bgcolor": "#290052"}, {"id": 48, "type": "SaveImage", "pos": [2880, 720], "size": {"0": 320, "1": 270}, "flags": {}, "order": 30, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 72}], "properties": {"Node name for S&R": "SaveImage"}, "widgets_values": ["Ollama IF/%date:yyyy-MM-dd%/AYSComfyUI"], "color": "#659414", "bgcolor": "#518000"}, {"id": 66, "type": "workflow/AYS Custom Sampler", "pos": [2270, 720], "size": {"0": 570, "1": 560}, "flags": {}, "order": 28, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 138}, {"name": "cond1", "type": "CONDITIONING", "link": 139}, {"name": "cond2", "type": "CONDITIONING", "link": 140}, {"name": "negative", "type": "CONDITIONING", "link": 141}, {"name": "latent_image", "type": "LATENT", "link": 142}, {"name": "noise_seed", "type": "INT", "link": 137, "widget": {"name": "noise_seed"}}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [], "shape": 3}, {"name": "PerturbedAttentionGuidance MODEL", "type": "MODEL", "links": [152], "shape": 3}, {"name": "output", "type": "LATENT", "links": [136], "shape": 3}, {"name": "denoised_output", "type": "LATENT", "links": null, "shape": 3}], "properties": {"Node name for S&R": "workflow/AYS Custom Sampler"}, "widgets_values": ["dpmpp_2m_sde", "SDXL", 15, 1, true, true, 3, 6, 1.5, 454683234869307, "randomize"], "color": "#659414", "bgcolor": "#518000"}, {"id": 103, "type": "Anything Everywhere", "pos": [550, 1290], "size": {"0": 210, "1": 26}, "flags": {}, "order": 19, "mode": 0, "inputs": [{"name": "CLIP", "type": "*", "link": 198, "color_on": "#FFD500"}], "properties": {"Node name for S&R": "Anything Everywhere", "group_restricted": 0, "color_restricted": 0}, "widgets_values": []}, {"id": 5, "type": "CLIPTextEncode", "pos": [880, 670], "size": {"0": 400, "1": 200}, "flags": {"collapsed": true}, "order": 21, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": null, "slot_index": 0}, {"name": "text", "type": "STRING", "link": 78, "widget": {"name": "text"}}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [49], "shape": 3, "slot_index": 0}], "title": "Positive Prompt Ollama Img2Prompt", "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": [""], "color": "#232", "bgcolor": "#353"}, {"id": 6, "type": "CLIPTextEncode", "pos": [880, 990], "size": {"0": 400, "1": 200}, "flags": {"collapsed": true}, "order": 23, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": null, "slot_index": 0}, {"name": "text", "type": "STRING", "link": 82, "widget": {"name": "text"}, "slot_index": 1}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [81], "shape": 3, "slot_index": 0}], "title": "Negative Prompt Ollama Img2Prompt", "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": [""], "color": "#322", "bgcolor": "#533"}, {"id": 77, "type": "UpscaleModelLoader", "pos": [5560, 1400], "size": {"0": 315, "1": 58}, "flags": {}, "order": 3, "mode": 0, "outputs": [{"name": "UPSCALE_MODEL", "type": "UPSCALE_MODEL", "links": [175], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "UpscaleModelLoader"}, "widgets_values": ["4x_foolhardy_Remacri.pth"]}, {"id": 101, "type": "ImageScaleBy", "pos": [5560, 1160], "size": {"0": 315, "1": 82}, "flags": {}, "order": 35, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 196, "slot_index": 0}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [160], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImageScaleBy"}, "widgets_values": ["lanczos", 0.63]}, {"id": 70, "type": "SUPIR_first_stage", "pos": [6600, 760], "size": {"0": 330, "1": 170}, "flags": {}, "order": 36, "mode": 0, "inputs": [{"name": "SUPIR_VAE", "type": "SUPIRVAE", "link": 200}, {"name": "image", "type": "IMAGE", "link": 160}], "outputs": [{"name": "SUPIR_VAE", "type": "SUPIRVAE", "links": [173, 211], "shape": 3, "slot_index": 0}, {"name": "denoised_image", "type": "IMAGE", "links": [174], "shape": 3, "slot_index": 1}, {"name": "denoised_latents", "type": "LATENT", "links": [168], "shape": 3, "slot_index": 2}], "properties": {"Node name for S&R": "SUPIR_first_stage"}, "widgets_values": [true, 512, 512, "auto"]}, {"id": 34, "type": "ShowText|pysssss", "pos": [1990, 10], "size": {"0": 460, "1": 270}, "flags": {}, "order": 20, "mode": 0, "inputs": [{"name": "text", "type": "STRING", "link": 47, "widget": {"name": "text"}}], "outputs": [{"name": "STRING", "type": "STRING", "links": [205], "shape": 6, "slot_index": 0}], "properties": {"Node name for S&R": "ShowText|pysssss"}, "widgets_values": ["", "best-quality, professional, model-shoot-style, full-body, : (Ultra-Fantastic Character:1.5) - Epic, Cover Art, Fantasy, Futuristic, Colorful Hair, Vivid Eyes, Mystic Tree, Glowing Elements, Highly Detailed, Armored Costume, Intricate Designs. \n\n(Ultra-Fantastic Character:1.5) - A being of unparalleled beauty and power, with (Colorful Hair:1.6), piercing eyes that hold the secrets of the universe, adorned in an armored costume embellished with enchanted symbols, surrounded by luminous flora and fauna within a mystical forest clearing. The ambiance is filled with wonderment, as this character interacts effortlessly with nature spirits, while navigating through magical realms on their quest for wisdom and enlightenment. Mythical, surreal, magical, otherworldly, imaginative,"], "color": "#145b4d", "bgcolor": "#004739"}, {"id": 39, "type": "ShowText|pysssss", "pos": [2510, 10], "size": {"0": 450, "1": 260}, "flags": {}, "order": 22, "mode": 0, "inputs": [{"name": "text", "type": "STRING", "link": 59, "widget": {"name": "text"}}], "outputs": [{"name": "STRING", "type": "STRING", "links": [206], "shape": 6, "slot_index": 0}], "properties": {"Node name for S&R": "ShowText|pysssss"}, "widgets_values": ["", "ng_deepnegative_v1_75t, bad-picture-chill-75v, bad_prompt, bad anatomy"], "color": "#145b4d", "bgcolor": "#004739"}, {"id": 76, "type": "SUPIR_encode", "pos": [6960, 760], "size": {"0": 315, "1": 126}, "flags": {}, "order": 37, "mode": 0, "inputs": [{"name": "SUPIR_VAE", "type": "SUPIRVAE", "link": 173}, {"name": "image", "type": "IMAGE", "link": 174}], "outputs": [{"name": "latent", "type": "LATENT", "links": [195], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "SUPIR_encode"}, "widgets_values": [true, 512, "auto"]}, {"id": 73, "type": "SUPIR_conditioner", "pos": [6960, 930], "size": {"0": 400, "1": 200}, "flags": {}, "order": 38, "mode": 0, "inputs": [{"name": "SUPIR_model", "type": "SUPIRMODEL", "link": 207}, {"name": "latents", "type": "LATENT", "link": 168}, {"name": "captions", "type": "STRING", "link": null, "widget": {"name": "captions"}}, {"name": "positive_prompt", "type": "STRING", "link": 205, "widget": {"name": "positive_prompt"}, "slot_index": 3}, {"name": "negative_prompt", "type": "STRING", "link": 206, "widget": {"name": "negative_prompt"}}], "outputs": [{"name": "positive", "type": "SUPIR_cond_pos", "links": [163], "shape": 3, "slot_index": 0}, {"name": "negative", "type": "SUPIR_cond_neg", "links": [164], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "SUPIR_conditioner"}, "widgets_values": ["a beautiful petite young hippy woman in her early 20's, irish with pale complexion and piercing blue eyes, vibrant multi-coloured hair in a messy bob and wearing a colourful striped jacket and tie dye blouse, a small amethyst pendant with a leather cord hangs around her neck, stood in a park during autumn, trees with red and yellow leaves, gentle smile and warm eyes enjoying the scenery, intricate, elegant, highly detailed, dramatic light, sharp focus, illuminated, divine, sublime, extremely detail, professional, cinematic, ambient, bright colors, original composition, cool color, creative, positive radiant, very inspirational, cute, adorable, magical, enhanced, joyful, glowing, pure, rational, thought, pristine, attractive", "worst quality, low quality, fringe, bangs, tattoos, text, watermark, (embedding:negativeXL_D:1), ", ""]}, {"id": 100, "type": "gcLatentTunnel", "pos": [7360, 850], "size": {"0": 210, "1": 26}, "flags": {}, "order": 39, "mode": 0, "inputs": [{"name": "samples", "type": "LATENT", "link": 195}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [162], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "gcLatentTunnel"}}, {"id": 80, "type": "PlaySound|pysssss", "pos": [8310, 1070], "size": {"0": 315, "1": 106}, "flags": {"collapsed": true}, "order": 42, "mode": 0, "inputs": [{"name": "any", "type": "*", "link": 178}], "outputs": [{"name": "*", "type": "*", "links": null, "shape": 6}], "properties": {"Node name for S&R": "PlaySound|pysssss"}, "widgets_values": ["always", 0.5, "notify.mp3"]}, {"id": 96, "type": "CR LoRA Stack", "pos": [5560, 760], "size": {"0": 315, "1": 342}, "flags": {}, "order": 4, "mode": 0, "inputs": [{"name": "lora_stack", "type": "LORA_STACK", "link": null}], "outputs": [{"name": "LORA_STACK", "type": "LORA_STACK", "links": [192], "shape": 3}, {"name": "show_help", "type": "STRING", "links": null, "shape": 3}], "properties": {"Node name for S&R": "CR LoRA Stack"}, "widgets_values": ["On", "lora-sdxl-perfect-eyes.safetensors", 0.3, 1, "Off", "None", 1, 1, "Off", "None", 1, 1]}, {"id": 71, "type": "SUPIR_sample", "pos": [7610, 760], "size": {"0": 320, "1": 450}, "flags": {}, "order": 40, "mode": 0, "inputs": [{"name": "SUPIR_model", "type": "SUPIRMODEL", "link": 210, "slot_index": 0}, {"name": "latents", "type": "LATENT", "link": 162}, {"name": "positive", "type": "SUPIR_cond_pos", "link": 163}, {"name": "negative", "type": "SUPIR_cond_neg", "link": 164}, {"name": "seed", "type": "INT", "link": null, "widget": {"name": "seed"}}], "outputs": [{"name": "latent", "type": "LATENT", "links": [166], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "SUPIR_sample"}, "widgets_values": [174277455657960, "fixed", 8, 2, 1.5, 5, 1.003, 1, 0.9, 0.9500000000000001, 10, false, "RestoreDPMPP2MSampler", 1024, 512]}, {"id": 72, "type": "SUPIR_decode", "pos": [7960, 760], "size": {"0": 315, "1": 102}, "flags": {}, "order": 41, "mode": 0, "inputs": [{"name": "SUPIR_VAE", "type": "SUPIRVAE", "link": 211, "slot_index": 0}, {"name": "latents", "type": "LATENT", "link": 166}], "outputs": [{"name": "image", "type": "IMAGE", "links": [178, 180], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "SUPIR_decode"}, "widgets_values": [true, 512]}, {"id": 95, "type": "CR Apply LoRA Stack", "pos": [5920, 760], "size": {"0": 254.40000915527344, "1": 66}, "flags": {}, "order": 17, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 199}, {"name": "clip", "type": "CLIP", "link": null}, {"name": "lora_stack", "type": "LORA_STACK", "link": 192, "slot_index": 2}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [193], "shape": 3, "slot_index": 0}, {"name": "CLIP", "type": "CLIP", "links": [214], "shape": 3, "slot_index": 1}, {"name": "show_help", "type": "STRING", "links": null, "shape": 3}], "properties": {"Node name for S&R": "CR Apply LoRA Stack"}}, {"id": 97, "type": "Lora Loader Stack (rgthree)", "pos": [5900, 900], "size": {"0": 315, "1": 246}, "flags": {}, "order": 24, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 193}, {"name": "clip", "type": "CLIP", "link": 214}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [187], "shape": 3, "slot_index": 0}, {"name": "CLIP", "type": "CLIP", "links": [], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "Lora Loader Stack (rgthree)"}, "widgets_values": ["Hyper-SDXL-8steps-lora.safetensors", 1, "None", 1, "None", 1, "None", 1]}, {"id": 93, "type": "SUPIR_model_loader_v2", "pos": [6260, 760], "size": {"0": 315, "1": 170}, "flags": {}, "order": 27, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 187}, {"name": "clip", "type": "CLIP", "link": null}, {"name": "vae", "type": "VAE", "link": null}], "outputs": [{"name": "SUPIR_model", "type": "SUPIRMODEL", "links": [207, 210], "shape": 3, "slot_index": 0}, {"name": "SUPIR_VAE", "type": "SUPIRVAE", "links": [200], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "SUPIR_model_loader_v2"}, "widgets_values": ["10. Uspcaler\\SUPIR-v0Q_fp16.safetensors", false, "auto", false]}, {"id": 78, "type": "ImageUpscaleWithModel", "pos": [5560, 1300], "size": {"0": 241.79998779296875, "1": 46}, "flags": {}, "order": 34, "mode": 0, "inputs": [{"name": "upscale_model", "type": "UPSCALE_MODEL", "link": 175}, {"name": "image", "type": "IMAGE", "link": 217}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [196], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImageUpscaleWithModel"}}, {"id": 69, "type": "FaceDetailer", "pos": [3680, 730], "size": {"0": 510, "1": 1100}, "flags": {}, "order": 31, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 151}, {"name": "model", "type": "MODEL", "link": 152}, {"name": "clip", "type": "CLIP", "link": null}, {"name": "vae", "type": "VAE", "link": null}, {"name": "positive", "type": "CONDITIONING", "link": 154}, {"name": "negative", "type": "CONDITIONING", "link": 155}, {"name": "bbox_detector", "type": "BBOX_DETECTOR", "link": 156}, {"name": "sam_model_opt", "type": "SAM_MODEL", "link": 157}, {"name": "segm_detector_opt", "type": "SEGM_DETECTOR", "link": null}, {"name": "detailer_hook", "type": "DETAILER_HOOK", "link": null}, {"name": "seed", "type": "INT", "link": null, "widget": {"name": "seed"}}], "outputs": [{"name": "image", "type": "IMAGE", "links": [158, 216], "shape": 3, "slot_index": 0}, {"name": "cropped_refined", "type": "IMAGE", "links": null, "shape": 6}, {"name": "cropped_enhanced_alpha", "type": "IMAGE", "links": null, "shape": 6}, {"name": "mask", "type": "MASK", "links": null, "shape": 3}, {"name": "detailer_pipe", "type": "DETAILER_PIPE", "links": null, "shape": 3}, {"name": "cnet_images", "type": "IMAGE", "links": null, "shape": 6}], "properties": {"Node name for S&R": "FaceDetailer"}, "widgets_values": [512, true, 1024, 776753206989348, "randomize", 20, 8, "dpmpp_2m_sde", "AYS SDXL", 0.5, 25, true, true, 0.5, 10, 3, "center-1", 0, 0.93, 0, 0.7, "False", 10, "", 1, false, 20], "color": "#659414", "bgcolor": "#518000"}, {"id": 83, "type": "Image Comparer (rgthree)", "pos": {"0": 8880, "1": 570, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 1962, "1": 1638}, "flags": {}, "order": 45, "mode": 0, "inputs": [{"name": "image_a", "type": "IMAGE", "link": 181, "dir": 3}, {"name": "image_b", "type": "IMAGE", "link": 219, "dir": 3}], "outputs": [], "properties": {"comparer_mode": "Slide"}, "widgets_values": [["/view?filename=rgthree.compare._temp_xbucu_00001_.png&type=temp&subfolder=&rand=0.9750204157567173", "/view?filename=rgthree.compare._temp_xbucu_00002_.png&type=temp&subfolder=&rand=0.5336420467111254"]]}, {"id": 82, "type": "ColorMatch", "pos": [7960, 910], "size": {"0": 315, "1": 78}, "flags": {}, "order": 43, "mode": 0, "inputs": [{"name": "image_ref", "type": "IMAGE", "link": 218, "slot_index": 0}, {"name": "image_target", "type": "IMAGE", "link": 180}], "outputs": [{"name": "image", "type": "IMAGE", "links": [179, 181], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ColorMatch"}, "widgets_values": ["mkl"]}, {"id": 81, "type": "SaveImage", "pos": [8310, 1030], "size": {"0": 288, "1": 468}, "flags": {"collapsed": true}, "order": 44, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 179}], "properties": {"Node name for S&R": "SaveImage"}, "widgets_values": ["SUPIR/Upsc_"]}, {"id": 112, "type": "Note", "pos": [4730, 440], "size": {"0": 730, "1": 160}, "flags": {}, "order": 5, "mode": 0, "properties": {"text": ""}, "widgets_values": ["To proceed click the image in the stop or refine node and click \"Progress selected image\" to continue, or to start again click \"Cancel current run\". If creating a batch you can either select the one you want for upscaling or select multiple if you like more than one. "], "color": "#5f1515", "bgcolor": "#4b0101"}, {"id": 62, "type": "Efficient Loader", "pos": [380, 670], "size": {"0": 400, "1": 460}, "flags": {}, "order": 15, "mode": 0, "inputs": [{"name": "lora_stack", "type": "LORA_STACK", "link": 126}, {"name": "cnet_stack", "type": "CONTROL_NET_STACK", "link": null}, {"name": "positive", "type": "STRING", "link": 112, "widget": {"name": "positive"}, "slot_index": 2}, {"name": "negative", "type": "STRING", "link": 115, "widget": {"name": "negative"}, "slot_index": 3}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [138, 199], "shape": 3, "slot_index": 0}, {"name": "CONDITIONING+", "type": "CONDITIONING", "links": [113], "shape": 3, "slot_index": 1}, {"name": "CONDITIONING-", "type": "CONDITIONING", "links": [114], "shape": 3, "slot_index": 2}, {"name": "LATENT", "type": "LATENT", "links": [142], "shape": 3, "slot_index": 3}, {"name": "VAE", "type": "VAE", "links": [107], "shape": 3, "slot_index": 4}, {"name": "CLIP", "type": "CLIP", "links": [198], "shape": 3, "slot_index": 5}, {"name": "DEPENDENCIES", "type": "DEPENDENCIES", "links": null, "shape": 3}], "properties": {"Node name for S&R": "Efficient Loader"}, "widgets_values": ["01. SDXL\\realisticFantasyMix_v20Vae.safetensors", "Baked VAE", -2, "None", 1, 1, "CLIP_POSITIVE", "CLIP_NEGATIVE", "none", "comfy", 896, 1152, 4], "color": "#601470", "bgcolor": "#4c005c", "shape": 2}, {"id": 12, "type": "IF_ImagePrompt", "pos": [380, 10], "size": {"0": 400, "1": 452}, "flags": {}, "order": 12, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 22, "slot_index": 0}], "outputs": [{"name": "Question", "type": "STRING", "links": [], "shape": 3, "slot_index": 0}, {"name": "Response", "type": "STRING", "links": [86], "shape": 3, "slot_index": 1}, {"name": "Negative", "type": "STRING", "links": [], "shape": 3, "slot_index": 2}], "properties": {"Node name for S&R": "IF_ImagePrompt"}, "widgets_values": ["what is in this image? Create a SDXL prompt from image", "localhost", "11434", "ollama", "llava:latest", "IF_PromptMKR_IMG", "DigitalArt", "FantasyArt", "None", 0.7, 160, 928846850828654, "fixed", false, false], "color": "#3d1466", "bgcolor": "#290052"}, {"id": 29, "type": "IF_PromptMkr", "pos": [1550, 10], "size": {"0": 400, "1": 450}, "flags": {}, "order": 16, "mode": 0, "inputs": [{"name": "input_prompt", "type": "STRING", "link": 87, "widget": {"name": "input_prompt"}}], "outputs": [{"name": "Question", "type": "STRING", "links": null, "shape": 3, "slot_index": 0}, {"name": "Response", "type": "STRING", "links": [47, 78], "shape": 3, "slot_index": 1}, {"name": "Negative", "type": "STRING", "links": [59, 82], "shape": 3, "slot_index": 2}], "properties": {"Node name for S&R": "IF_PromptMkr"}, "widgets_values": ["Ancient mega-structure, small lone figure in the foreground", "localhost", "11434", "ollama", "impactframes/ifai_promptmkr_dolphin_phi3:latest", "IF_PromptMKR", "Fullbodyshot", "FantasyArt", "BadChill", 0.7, 256, 354487400586016, "fixed", false, false], "color": "#145b4d", "bgcolor": "#004739"}, {"id": 28, "type": "Seed Everywhere", "pos": [1900, 660], "size": {"0": 320, "1": 82}, "flags": {}, "order": 6, "mode": 0, "outputs": [{"name": "INT", "type": "INT", "links": [137], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "Seed Everywhere", "group_restricted": 0, "color_restricted": 0}, "widgets_values": [108953, "randomize"], "color": "#8c8e14", "bgcolor": "#787a00"}, {"id": 110, "type": "Preview Chooser", "pos": [4730, 660], "size": {"0": 734.351318359375, "1": 751.4251708984375}, "flags": {}, "order": 33, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 216}, {"name": "latents", "type": "LATENT", "link": null}, {"name": "masks", "type": "MASK", "link": null}], "outputs": [{"name": "images", "type": "IMAGE", "links": [217, 218, 219], "shape": 3, "slot_index": 0}, {"name": "latents", "type": "LATENT", "links": null, "shape": 3}, {"name": "masks", "type": "MASK", "links": null, "shape": 3}, {"name": "selected", "type": "STRING", "links": null, "shape": 3}], "title": "Stop Or Upscale next Step?", "properties": {"Node name for S&R": "Preview Chooser"}, "widgets_values": ["Always pause", 1, "", ""], "color": "#5f1515", "bgcolor": "#4b0101"}, {"id": 67, "type": "Fast Groups Bypasser (rgthree)", "pos": {"0": 1900, "1": 800, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 320, "1": 270}, "flags": {}, "order": 7, "mode": 0, "inputs": [], "outputs": [{"name": "OPT_CONNECTION", "type": "*", "links": null}], "properties": {"matchColors": "", "matchTitle": "", "showNav": true, "sort": "position", "customSortAlphabet": "", "toggleRestriction": "default"}, "color": "#8c8e14", "bgcolor": "#787a00"}, {"id": 64, "type": "String Literal", "pos": [880, 730], "size": {"0": 400, "1": 200}, "flags": {}, "order": 8, "mode": 0, "outputs": [{"name": "STRING", "type": "STRING", "links": [112], "shape": 3}], "title": "Additional Positive Prompts", "properties": {"Node name for S&R": "String Literal"}, "widgets_values": [""], "color": "#232", "bgcolor": "#353"}, {"id": 20, "type": "CR LoRA Stack", "pos": [30, 1070], "size": {"0": 315, "1": 342}, "flags": {}, "order": 9, "mode": 0, "inputs": [{"name": "lora_stack", "type": "LORA_STACK", "link": null}], "outputs": [{"name": "LORA_STACK", "type": "LORA_STACK", "links": [34], "shape": 3}, {"name": "show_help", "type": "STRING", "links": null, "shape": 3}], "properties": {"Node name for S&R": "CR LoRA Stack"}, "widgets_values": ["On", "None", 1, 1, "On", "None", 0.8, 1, "Off", "None", 1, 1], "color": "#601470", "bgcolor": "#4c005c"}, {"id": 11, "type": "CR LoRA Stack", "pos": [30, 670], "size": {"0": 315, "1": 342}, "flags": {}, "order": 13, "mode": 0, "inputs": [{"name": "lora_stack", "type": "LORA_STACK", "link": 34, "slot_index": 0}], "outputs": [{"name": "LORA_STACK", "type": "LORA_STACK", "links": [126], "shape": 3, "slot_index": 0}, {"name": "show_help", "type": "STRING", "links": null, "shape": 3}], "properties": {"Node name for S&R": "CR LoRA Stack"}, "widgets_values": ["On", "None", 1, 1, "On", "None", 1, 1, "On", "None", 1, 1], "color": "#601470", "bgcolor": "#4c005c"}, {"id": 65, "type": "String Literal", "pos": [880, 1050], "size": {"0": 400, "1": 200}, "flags": {"collapsed": false}, "order": 10, "mode": 0, "outputs": [{"name": "STRING", "type": "STRING", "links": [115], "shape": 3}], "title": "Additional Negative Prompts", "properties": {"Node name for S&R": "String Literal"}, "widgets_values": [""], "color": "#322", "bgcolor": "#533"}, {"id": 111, "type": "LoraInfo", "pos": [370, 1180], "size": {"0": 434.848876953125, "1": 460.9879150390625}, "flags": {}, "order": 11, "mode": 0, "outputs": [{"name": "trigger_words", "type": "STRING", "links": null, "shape": 3}, {"name": "example_prompt", "type": "STRING", "links": null, "shape": 3}], "properties": {"Node name for S&R": "LoraInfo"}, "widgets_values": ["a_rainbow_exploding_with_joy.safetensors", "SDXL 1.0", "Triggers: A rainbow exploding with joy\nBase Model: SDXL 1.0\n\nExamples:\n\nOutput: https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/59c9e2e8-6310-433e-897a-d35ba62a7f29/width=450/4694593.jpeg\n\n\nOutput: https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/ffb6dcc2-582e-4d67-b74a-8327a58e35d4/width=450/4694918.jpeg\n\n\nOutput: https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/3cdea2b7-735d-4dbf-9b21-dee7f7ec551c/width=450/4694737.jpeg\n\n\nOutput: https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/657bef33-f5c2-4204-9659-f4fc6179c7c5/width=450/4694730.jpeg\n\n\nOutput: https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/b42fb857-d11c-4e50-9378-997c2a5cfa40/width=450/4694647.jpeg\n\n\nOutput: https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/1fdb3f49-b60e-44fb-9aa2-183d99f062a8/width=450/4694722.jpeg\n\n\nOutput: https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/83f962c2-2115-4dfc-8854-da93c2b484dd/width=450/4694723.jpeg\n\n\nOutput: https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/c2573d07-b265-4aff-99fc-cf5529289aa1/width=450/4694750.jpeg\n\n\nOutput: https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/4c8be101-fd22-4b8a-8ffa-047a3679850f/width=450/4694752.jpeg\n\n\nOutput: https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/951398df-ab0a-4fb9-a653-9b3eb87b4db1/width=450/4694769.jpeg\n\n"], "color": "#601470", "bgcolor": "#4c005c"}], "links": [[22, 14, 0, 12, 0, "IMAGE"], [34, 20, 0, 11, 0, "LORA_STACK"], [47, 29, 1, 34, 0, "STRING"], [49, 5, 0, 35, 1, "CONDITIONING"], [59, 29, 2, 39, 0, "STRING"], [72, 47, 0, 48, 0, "IMAGE"], [78, 29, 1, 5, 1, "STRING"], [81, 6, 0, 37, 1, "CONDITIONING"], [82, 29, 2, 6, 1, "STRING"], [86, 12, 1, 49, 0, "STRING"], [87, 49, 0, 29, 0, "STRING"], [107, 62, 4, 63, 0, "VAE"], [112, 64, 0, 62, 2, "STRING"], [113, 62, 1, 35, 0, "CONDITIONING"], [114, 62, 2, 37, 0, "CONDITIONING"], [115, 65, 0, 62, 3, "STRING"], [126, 11, 0, 62, 0, "LORA_STACK"], [136, 66, 2, 47, 0, "LATENT"], [137, 28, 0, 66, 5, "INT"], [138, 62, 0, 66, 0, "MODEL"], [139, 35, 0, 66, 1, "CONDITIONING"], [140, 37, 0, 66, 2, "CONDITIONING"], [141, 37, 0, 66, 3, "CONDITIONING"], [142, 62, 3, 66, 4, "LATENT"], [151, 47, 0, 69, 0, "IMAGE"], [152, 66, 1, 69, 1, "MODEL"], [154, 35, 0, 69, 4, "CONDITIONING"], [155, 37, 0, 69, 5, "CONDITIONING"], [156, 53, 0, 69, 6, "BBOX_DETECTOR"], [157, 54, 0, 69, 7, "SAM_MODEL"], [158, 69, 0, 55, 0, "IMAGE"], [160, 101, 0, 70, 1, "IMAGE"], [162, 100, 0, 71, 1, "LATENT"], [163, 73, 0, 71, 2, "SUPIR_cond_pos"], [164, 73, 1, 71, 3, "SUPIR_cond_neg"], [166, 71, 0, 72, 1, "LATENT"], [168, 70, 2, 73, 1, "LATENT"], [173, 70, 0, 76, 0, "SUPIRVAE"], [174, 70, 1, 76, 1, "IMAGE"], [175, 77, 0, 78, 0, "UPSCALE_MODEL"], [178, 72, 0, 80, 0, "*"], [179, 82, 0, 81, 0, "IMAGE"], [180, 72, 0, 82, 1, "IMAGE"], [181, 82, 0, 83, 0, "IMAGE"], [187, 97, 0, 93, 0, "MODEL"], [192, 96, 0, 95, 2, "LORA_STACK"], [193, 95, 0, 97, 0, "MODEL"], [195, 76, 0, 100, 0, "LATENT"], [196, 78, 0, 101, 0, "IMAGE"], [198, 62, 5, 103, 0, "CLIP"], [199, 62, 0, 95, 0, "MODEL"], [200, 93, 1, 70, 0, "SUPIRVAE"], [205, 34, 0, 73, 3, "STRING"], [206, 39, 0, 73, 4, "STRING"], [207, 93, 0, 73, 0, "SUPIRMODEL"], [210, 93, 0, 71, 0, "SUPIRMODEL"], [211, 70, 0, 72, 0, "SUPIRVAE"], [214, 95, 1, 97, 1, "CLIP"], [216, 69, 0, 110, 0, "IMAGE"], [217, 110, 0, 78, 1, "IMAGE"], [218, 110, 0, 82, 0, "IMAGE"], [219, 110, 0, 83, 1, "IMAGE"]], "groups": [{"title": "Model & LoRA Loaders", "bounding": [0, 570, 840, 1110], "color": "#ae00d1", "font_size": 24, "locked": false}, {"title": "Img2Prompt Ollama", "bounding": [0, -80, 1490, 620], "color": "#6300c7", "font_size": 24, "locked": false}, {"title": "Prompt2Prompt Ollama", "bounding": [1520, -80, 1490, 620], "color": "#00b38f", "font_size": 24, "locked": false}, {"title": "Conditioning & Optional Prompting", "bounding": [850, 570, 890, 760], "color": "#444", "font_size": 24, "locked": false}, {"title": "AYS + PAG + Auto CFG Gen", "bounding": [2240, 630, 1050, 730], "color": "#76b900", "font_size": 24, "locked": false}, {"title": "AYS + PAY + Auto CFG + Face Detailer", "bounding": [3310, 630, 1380, 1230], "color": "#76b900", "font_size": 24, "locked": false}, {"title": "Upscale Model & SUPIR", "bounding": [5500, 630, 3050, 1000], "color": "#3f789e", "font_size": 24, "locked": false}], "config": {}, "extra": {"ds": {"scale": 0.2896643797366881, "offset": [118.02707895521952, 695.6703444973973]}, "groupNodes": {"AYS Custom Sampler": {"nodes": [{"type": "KSamplerSelect", "pos": [1680, 1650], "size": {"0": 315, "1": 58}, "flags": {}, "order": 9, "mode": 0, "outputs": [{"name": "SAMPLER", "type": "SAMPLER", "links": [], "shape": 3}], "properties": {"Node name for S&R": "KSamplerSelect"}, "widgets_values": ["euler"], "index": 0}, {"type": "AlignYourStepsScheduler", "pos": [1680, 1760], "size": {"0": 315, "1": 106}, "flags": {}, "order": 10, "mode": 0, "outputs": [{"name": "SIGMAS", "type": "SIGMAS", "links": [], "shape": 3}], "properties": {"Node name for S&R": "AlignYourStepsScheduler"}, "widgets_values": ["SDXL", 15, 1], "index": 1}, {"type": "RandomNoise", "pos": [2060, 1460], "size": {"0": 320, "1": 80}, "flags": {}, "order": 11, "mode": 0, "inputs": [{"name": "noise_seed", "type": "INT", "link": null, "widget": {"name": "noise_seed"}}], "outputs": [{"name": "NOISE", "type": "NOISE", "links": [], "shape": 3}], "properties": {"Node name for S&R": "RandomNoise"}, "widgets_values": [876441957402194, "randomize"], "index": 2}, {"type": "Automatic CFG", "pos": [1320, 1570], "size": {"0": 315, "1": 82}, "flags": {}, "order": 17, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": null, "slot_index": 0}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "Automatic CFG"}, "widgets_values": [true, true], "index": 3}, {"type": "PerturbedAttentionGuidance", "pos": [1320, 1460], "size": {"0": 315, "1": 58}, "flags": {}, "order": 20, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": null, "slot_index": 0}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "PerturbedAttentionGuidance"}, "widgets_values": [3], "index": 4}, {"type": "DualCFGGuider", "pos": [1680, 1460], "size": {"0": 315, "1": 142}, "flags": {}, "order": 28, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": null}, {"name": "cond1", "type": "CONDITIONING", "link": null}, {"name": "cond2", "type": "CONDITIONING", "link": null}, {"name": "negative", "type": "CONDITIONING", "link": null}], "outputs": [{"name": "GUIDER", "type": "GUIDER", "links": [], "shape": 3}], "properties": {"Node name for S&R": "DualCFGGuider"}, "widgets_values": [6, 1.5], "index": 5}, {"type": "SamplerCustomAdvanced", "pos": [2070, 1620], "size": {"0": 355.20001220703125, "1": 106}, "flags": {}, "order": 31, "mode": 0, "inputs": [{"name": "noise", "type": "NOISE", "link": null, "slot_index": 0}, {"name": "guider", "type": "GUIDER", "link": null, "slot_index": 1}, {"name": "sampler", "type": "SAMPLER", "link": null, "slot_index": 2}, {"name": "sigmas", "type": "SIGMAS", "link": null, "slot_index": 3}, {"name": "latent_image", "type": "LATENT", "link": null}], "outputs": [{"name": "output", "type": "LATENT", "links": [], "shape": 3, "slot_index": 0}, {"name": "denoised_output", "type": "LATENT", "links": null, "shape": 3}], "properties": {"Node name for S&R": "SamplerCustomAdvanced"}, "index": 6}], "links": [[null, 0, 2, 0, 28, "INT"], [null, 0, 3, 0, 62, "MODEL"], [3, 0, 4, 0, 46, "MODEL"], [4, 0, 5, 0, 45, "MODEL"], [null, 0, 5, 1, 35, "CONDITIONING"], [null, 0, 5, 2, 37, "CONDITIONING"], [null, 0, 5, 3, 37, "CONDITIONING"], [2, 0, 6, 0, 41, "NOISE"], [5, 0, 6, 1, 42, "GUIDER"], [0, 0, 6, 2, 43, "SAMPLER"], [1, 0, 6, 3, 44, "SIGMAS"], [null, 3, 6, 4, 62, "LATENT"]], "external": [[3, 0, "MODEL"], [4, 0, "MODEL"], [6, 0, "LATENT"]]}}}, "version": 0.4}